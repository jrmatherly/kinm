{
  "project": {
    "name": "kinm",
    "module": "github.com/obot-platform/kinm",
    "goVersion": "1.24.0",
    "description": "Go API server with K8s-like CRUD+Watch backed by PostgreSQL"
  },
  "structure": {
    "pkg/apigroup": {
      "purpose": "API group registration",
      "exports": ["AddToScheme", "ForStores"]
    },
    "pkg/authn": {
      "purpose": "Authentication",
      "exports": ["StaticToken", "NewStaticToken", "GetBearerToken"]
    },
    "pkg/db": {
      "purpose": "Database layer (core storage)",
      "exports": ["Factory", "NewFactory", "Strategy", "New"],
      "subdirs": ["errors", "glogrus", "statements"]
    },
    "pkg/otel": {
      "purpose": "OpenTelemetry attributes",
      "exports": ["ListOptionsToAttributes", "ObjectToAttributes"]
    },
    "pkg/serializer": {
      "purpose": "Object serialization",
      "exports": ["NoProtobufSerializer", "NewNoProtobufSerializer"]
    },
    "pkg/server": {
      "purpose": "HTTP server setup",
      "exports": ["Server", "Config", "New", "DefaultOpts"]
    },
    "pkg/stores": {
      "purpose": "Store interface builders",
      "exports": ["Builder", "NewBuilder"],
      "variants": [
        "complete",
        "createget",
        "creategetlistdelete",
        "creategetlistdeleteupdate",
        "creategetlistdeletewatch",
        "createonly",
        "getlist",
        "getlistdelete",
        "getlistupdatedelete",
        "getlistupdatedeletewatch",
        "getlistwatch",
        "getonly",
        "listonly",
        "listwatch",
        "readdelete",
        "readwritewatch",
        "status"
      ]
    },
    "pkg/strategy": {
      "purpose": "CRUD+Watch strategies",
      "exports": ["Base", "CompleteStrategy", "Watcher", "WatchAdapter"],
      "subdirs": ["remote", "translation"],
      "operations": [
        "create",
        "get",
        "list",
        "update",
        "delete",
        "watch",
        "destroy"
      ]
    },
    "pkg/types": {
      "purpose": "Core types",
      "exports": [
        "Object",
        "ObjectList",
        "NamespaceScoper",
        "MustGetListType",
        "MustGetGVK"
      ]
    },
    "pkg/validator": {
      "purpose": "Input validation",
      "exports": ["name validation"]
    }
  },
  "entryPoints": {
    "server": {
      "path": "pkg/server/server.go",
      "function": "New",
      "description": "Create API server instance"
    },
    "factory": {
      "path": "pkg/db/factory.go",
      "function": "NewFactory",
      "description": "Create database factory"
    },
    "strategy": {
      "path": "pkg/db/strategy.go",
      "function": "New",
      "description": "Create storage strategy"
    }
  },
  "database": {
    "backends": ["postgresql", "sqlite"],
    "sqlFiles": [
      "addcolumn.sql",
      "addfieldsindex.sql",
      "checkcolumn.sql",
      "clearcreated.sql",
      "compact.sql",
      "dropfieldsindex.sql",
      "insert.sql",
      "list.sql",
      "listafter.sql",
      "migrate.sql",
      "tablelock.sql",
      "tablemeta.sql",
      "updatecompaction.sql"
    ],
    "tables": {
      "main": {
        "columns": [
          "id",
          "name",
          "namespace",
          "previous_id",
          "uid",
          "created",
          "deleted",
          "value"
        ]
      },
      "compaction": {
        "columns": ["name", "id"]
      }
    }
  },
  "dependencies": {
    "core": [
      "k8s.io/apiserver@v0.31.1",
      "k8s.io/apimachinery@v0.31.1",
      "k8s.io/client-go@v0.31.1",
      "gorm.io/gorm@v1.25.12",
      "gorm.io/driver/postgres@v1.5.9"
    ],
    "utilities": [
      "github.com/sirupsen/logrus@v1.9.3",
      "go.opentelemetry.io/otel@v1.35.0",
      "github.com/stretchr/testify@v1.10.0"
    ]
  },
  "commands": {
    "build": "go build ./...",
    "test": "go test ./...",
    "testPostgres": "KINM_TEST_DB=postgres go test ./pkg/db/...",
    "format": "go fmt ./...",
    "vet": "go vet ./..."
  },
  "statistics": {
    "goFiles": 57,
    "testFiles": 2,
    "sqlFiles": 13,
    "packages": 12
  },
  "generated": "2026-01-15"
}
